## âœ… Garbage Collection?

> í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼(ê°€ë¹„ì§€) ì°¾ì•„ ë©”ëª¨ë¦¬ë¥¼ íšŒìˆ˜í•˜ëŠ” ì‘ì—…/ëª¨ë“ˆ
> 

ì´ ë•Œ ê°€ë¹„ì§€ë€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë©°`Garbage Collection` ì€ ì œí•œëœ ë©”ëª¨ë¦¬ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë¦¬í•´ ìƒˆë¡œìš´ ê°ì²´ê°€ ì›í™œíˆ í• ë‹¹ë˜ë„ë¡ í•œë‹¤.

---

## ğŸ“’ Minor GC, Major GC

JVMì˜ Heap ì˜ì—­ì€ ë‹¤ìŒì˜ ë‘ ê°€ì§€ ì „ì œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆë‹¤.

- ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœê°€ ëœë‹¤.
- ì˜¤ë˜ëœ ê°ì²´ì—ì„œ ìƒˆë¡œìš´ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ë§¤ìš° ì ê²Œ ì¡´ì¬í•œë‹¤.

ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ì¼íšŒì„± ì„±ì§ˆì´ ê°•í•˜ê³  ë©”ëª¨ë¦¬ì— ë‚¨ì•„ìˆëŠ” ì‹œê°„ì´ ì§§ê¸° ë•Œë¬¸ì—, ê°ì²´ì˜ ìƒì¡´ ì‹œê°„ì— ë”°ë¼ ì•„ë˜ì™€ ê°™ì´ ë‘ ê°€ì§€ë¡œ Heap ì˜ì—­ì„ ë¶„ë¦¬í•œë‹¤.

- ğŸŒ³ **Young Generation**
    
    ### ğŸŒ³ Young Generation
    
    - ìƒˆë¡­ê²Œ ìƒì„±ëœ ê°ì²´ê°€ í• ë‹¹ë˜ëŠ” ì˜ì—­
    - ëŒ€ë¶€ë¶„ì˜ ê°ì²´ê°€ **ê¸ˆë°© ì‚¬ë¼ì§€ë¯€ë¡œ** ë§ì€ ê°ì²´ê°€ ì´ê³³ì—ì„œ ìƒì„±ë˜ì—ˆë‹¤ê°€ ê³§ GC ëŒ€ìƒì´ ë¨
    - ì´ ì˜ì—­ì— ëŒ€í•œ GC â†’ `Minor GC`
    
- ğŸŒ² **Old Generation**
    
    ### ğŸŒ² Old Generation
    
    - Young ì˜ì—­ì—ì„œ **ìƒì¡´**í•œ ê°ì²´ë“¤ì´ **ìŠ¹ê²©(Promotion)** ë˜ëŠ” ì˜ì—­
    - ìƒëŒ€ì ìœ¼ë¡œ í° ë©”ëª¨ë¦¬ ê³µê°„ì„ ê°€ì§€ë©°, ê°€ë¹„ì§€ ë°œìƒ ë¹ˆë„ëŠ” ë‚®ìŒ
    - Old ì˜ì—­ì— ëŒ€í•œ GC â†’ `Major GC`
    

---

## âš¡Garbage Collection ë™ì‘ ë°©ì‹

`Young Generation` , `Old Generation` ì€ ì„œë¡œ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ êµ¬ì¡°ë¡œ ë‚˜ë‰œ ì˜ì—­ì´ê¸° ë•Œë¬¸ì— ì„¸ë¶€ì ì¸ ë™ì‘ ë°©ì‹ì€ ë‹¤ë¥´ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ GCê°€ ì‹¤í–‰ëœë‹¤ê³  í•˜ë©´ ë‹¤ìŒì˜ ë‘ ê°€ì§€ ê³µí†µì ì¸ ë‹¨ê³„ë¥¼ ê±°ì¹œë‹¤.

- ğŸ¨ **Stop the World**
    
    ### ğŸ¨ Stop The World (STW)
    
    > GCë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ JVMì´ ëª¨ë“  ì“°ë ˆë“œì˜ ì‹¤í–‰ì„ ë©ˆì¶”ê³  GCë¥¼ ìˆ˜í–‰í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ
    > 
    
    GCê°€ ì‹¤í–‰ë  ë•ŒëŠ”GCë¥¼ ìˆ˜í–‰í•˜ëŠ” ì“°ë ˆë“œë¥¼ ì œì™¸í•œ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ì“°ë ˆë“œì˜ ì‘ì—…ì´ ì¼ì‹œ ì¤‘ë‹¨ëœë‹¤.
    
    ì´ëŸ¬í•œ í˜„ìƒì„ `Stop-The-World (STW)` ë¼ê³  ë¶€ë¥¸ë‹¤.
    
    **â— STWì˜ ì˜í–¥**
    
    - ëª¨ë“  ì“°ë ˆë“œê°€ ë©ˆì¶”ê¸° ë•Œë¬¸ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ê°€ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶˜ ê²ƒì²˜ëŸ¼ ë³´ì„
    - STWê°€ ë°œìƒí•˜ëŠ” ë™ì•ˆ ì‘ë‹µ ì†ë„ ì§€ì—°ì´ë‚˜ ì¥ì‹œê°„ ë©ˆì¶¤ì´ ì‚¬ìš©ìì—ê²Œ ì²´ê°ë  ìˆ˜ ìˆìŒ
    - íŠ¹íˆ Major GCê°€ ë°œìƒí•  ë•ŒëŠ” STW ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆì–´ ì„±ëŠ¥ ì €í•˜ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŒ
    
- ğŸª **Mark and Sweep**
    
    ### ğŸª Mark and Sweep
    
    > ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ ì •ë¦¬í•˜ëŠ” ë‹¨ìˆœí•œ GC ë°©ì‹
    > 
    
    `Mark and Sweep`ëŠ” ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(GC)ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì´ê³  ì „í†µì ì¸ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì´ë‹¤. 
    
    ì´ ë°©ì‹ì€ í¬ê²Œ ë‘ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤:
    
    1ï¸âƒ£ **Mark (í‘œì‹œ ë‹¨ê³„) :** 
    
    - ëª¨ë“  ê°ì²´ë¥¼ íƒìƒ‰í•˜ë©´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ê°ì²´ë¥¼ ë§ˆí¬í•œë‹¤.
    - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê°ì²´ë§Œ ë§ˆí¬ë¡œ í‘œì‹œ
    
    2ï¸âƒ£ **Sweep (ì •ë¦¬ ë‹¨ê³„) :** 
    
    - ë§ˆí¬ë˜ì§€ ì•Šì€ ê°ì²´ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¡œ ê°„ì£¼ë˜ì–´ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°ë¨
    - ì´ë ‡ê²Œ ê°€ë¹„ì§€ê°€ ì œê±°ë˜ë©´ ë©”ëª¨ë¦¬ ê³µê°„ì´ ë¹„ê²Œ ë©ë‹ˆë‹¤.
    

---

### Minor GC

### Major GC

### ğŸ“Œ ìš”ì•½

| GCì¢…ë¥˜ | ëŒ€ìƒ | ì‹¤í–‰ ì‹œì  | ì‹¤í–‰ ì†ë„ |
| --- | --- | --- | --- |
| Minor GC | Young Generation | Eden ì˜ì—­ì´ ê½‰ ì°¬ ê²½ìš° | ë¹ ë¥´ë‹¤ |
| Major GC | Old Generation | Old ì˜ì—­ì´ ê½‰ ì°¬ ê²½ìš° | ëŠë¦¬ë‹¤ |

## GC ì•Œê³ ë¦¬ì¦˜

### Serial GC

### Parallel GC

### Parallel Old GC

### CMS(Concurrent Mark Sweep) GC

### G1(Garbage First) GC

 *reference:*

https://d2.naver.com/helloworld/1329<br/>
https://asfirstalways.tistory.com/159<br/>
https://asfirstalways.tistory.com/158<br/>
https://lob-dev.tistory.com/entry/Presentation-JVM-GC-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90%EA%B3%BC-%EA%B8%B0%EB%B3%B8-GC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98<br/>
https://mangkyu.tistory.com/118<br/>
https://mangkyu.tistory.com/119<br/>
https://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf
